<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Throughputs | Charting Annual Emissions</title>
  <meta name="description" content="This is an introduction to charting annual emissions inventory data." />
  <meta name="generator" content="bookdown 0.17.2 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Throughputs | Charting Annual Emissions" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an introduction to charting annual emissions inventory data." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Throughputs | Charting Annual Emissions" />
  
  <meta name="twitter:description" content="This is an introduction to charting annual emissions inventory data." />
  

<meta name="author" content="David Holstius" />


<meta name="date" content="2020-03-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="03-emissions.html"/>
<link rel="next" href="05-growth_profiles.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Charting Annual Data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="02-setup.html"><a href="02-setup.html"><i class="fa fa-check"></i><b>2</b> Setup</a><ul>
<li class="chapter" data-level="2.1" data-path="02-setup.html"><a href="02-setup.html#loading-required-libraries"><i class="fa fa-check"></i><b>2.1</b> Loading required libraries</a></li>
<li class="chapter" data-level="2.2" data-path="02-setup.html"><a href="02-setup.html#peeking-at-data"><i class="fa fa-check"></i><b>2.2</b> Peeking at data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03-emissions.html"><a href="03-emissions.html"><i class="fa fa-check"></i><b>3</b> Emissions</a><ul>
<li class="chapter" data-level="3.1" data-path="03-emissions.html"><a href="03-emissions.html#charting-annual-emissions"><i class="fa fa-check"></i><b>3.1</b> Charting annual emissions</a></li>
<li class="chapter" data-level="3.2" data-path="03-emissions.html"><a href="03-emissions.html#coloring-by-category"><i class="fa fa-check"></i><b>3.2</b> Coloring by category</a></li>
<li class="chapter" data-level="3.3" data-path="03-emissions.html"><a href="03-emissions.html#flagging-specific-values"><i class="fa fa-check"></i><b>3.3</b> Flagging specific values</a></li>
<li class="chapter" data-level="3.4" data-path="03-emissions.html"><a href="03-emissions.html#humanizing-category-names"><i class="fa fa-check"></i><b>3.4</b> Humanizing category names</a></li>
<li class="chapter" data-level="3.5" data-path="03-emissions.html"><a href="03-emissions.html#titling-and-captioning"><i class="fa fa-check"></i><b>3.5</b> Titling and captioning</a></li>
<li class="chapter" data-level="3.6" data-path="03-emissions.html"><a href="03-emissions.html#making-an-area-chart"><i class="fa fa-check"></i><b>3.6</b> Making an area chart</a></li>
<li class="chapter" data-level="3.7" data-path="03-emissions.html"><a href="03-emissions.html#more-than-one-pollutant"><i class="fa fa-check"></i><b>3.7</b> More than one pollutant</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04-throughputs.html"><a href="04-throughputs.html"><i class="fa fa-check"></i><b>4</b> Throughputs</a><ul>
<li class="chapter" data-level="4.1" data-path="04-throughputs.html"><a href="04-throughputs.html#obtaining-throughput-data"><i class="fa fa-check"></i><b>4.1</b> Obtaining throughput data</a></li>
<li class="chapter" data-level="4.2" data-path="04-throughputs.html"><a href="04-throughputs.html#charting-annual-throughputs"><i class="fa fa-check"></i><b>4.2</b> Charting annual throughputs</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05-growth_profiles.html"><a href="05-growth_profiles.html"><i class="fa fa-check"></i><b>5</b> Growth Profiles</a><ul>
<li class="chapter" data-level="5.1" data-path="05-growth_profiles.html"><a href="05-growth_profiles.html#normalized-growth-factors"><i class="fa fa-check"></i><b>5.1</b> Normalized growth factors</a></li>
<li class="chapter" data-level="5.2" data-path="05-growth_profiles.html"><a href="05-growth_profiles.html#county-specific-growth-profiles"><i class="fa fa-check"></i><b>5.2</b> County-specific growth profiles</a></li>
<li class="chapter" data-level="5.3" data-path="05-growth_profiles.html"><a href="05-growth_profiles.html#raw-growth-profile-data"><i class="fa fa-check"></i><b>5.3</b> Raw growth profile data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="06-relative_changes.html"><a href="06-relative_changes.html"><i class="fa fa-check"></i><b>6</b> Relative Changes</a><ul>
<li class="chapter" data-level="6.1" data-path="06-relative_changes.html"><a href="06-relative_changes.html#relative-changes-in-emissions"><i class="fa fa-check"></i><b>6.1</b> Relative changes in emissions</a></li>
<li class="chapter" data-level="6.2" data-path="06-relative_changes.html"><a href="06-relative_changes.html#relative-changes-in-throughputs"><i class="fa fa-check"></i><b>6.2</b> Relative changes in throughputs</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="07-emission_factors.html"><a href="07-emission_factors.html"><i class="fa fa-check"></i><b>7</b> Emission Factors</a></li>
<li class="chapter" data-level="8" data-path="08-control_factors.html"><a href="08-control_factors.html"><i class="fa fa-check"></i><b>8</b> Control Factors</a><ul>
<li class="chapter" data-level="8.1" data-path="08-control_factors.html"><a href="08-control_factors.html#example-domestic-woodstoves"><i class="fa fa-check"></i><b>8.1</b> Example: domestic woodstoves</a></li>
<li class="chapter" data-level="8.2" data-path="08-control_factors.html"><a href="08-control_factors.html#example-gasoline-filling-stations"><i class="fa fa-check"></i><b>8.2</b> Example: gasoline filling stations</a></li>
<li class="chapter" data-level="8.3" data-path="08-control_factors.html"><a href="08-control_factors.html#control-effectiveness-vs.annualized-control-factors"><i class="fa fa-check"></i><b>8.3</b> Control effectiveness vs. annualized control factors</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="09-comparing_inventories.html"><a href="09-comparing_inventories.html"><i class="fa fa-check"></i><b>9</b> Comparing Inventories</a><ul>
<li class="chapter" data-level="9.1" data-path="09-comparing_inventories.html"><a href="09-comparing_inventories.html#combining-data"><i class="fa fa-check"></i><b>9.1</b> Combining data</a></li>
<li class="chapter" data-level="9.2" data-path="09-comparing_inventories.html"><a href="09-comparing_inventories.html#comparing-inventories-1"><i class="fa fa-check"></i><b>9.2</b> Comparing inventories</a></li>
<li class="chapter" data-level="9.3" data-path="09-comparing_inventories.html"><a href="09-comparing_inventories.html#multiple-categories"><i class="fa fa-check"></i><b>9.3</b> Groups of categories</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>10</b> Appendix</a><ul>
<li class="chapter" data-level="10.1" data-path="appendix.html"><a href="appendix.html#appendix-BY2011-cat_283-forecast"><i class="fa fa-check"></i><b>10.1</b> Changes in forecasts for category #283</a></li>
<li class="chapter" data-level="10.2" data-path="appendix.html"><a href="appendix.html#appendix-deriving_county_fractions"><i class="fa fa-check"></i><b>10.2</b> Calculating county fractions from raw growth profile data</a></li>
<li class="chapter" data-level="10.3" data-path="appendix.html"><a href="appendix.html#appendix-control_factors-documentation"><i class="fa fa-check"></i><b>10.3</b> Control factors: documentation</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Charting Annual Emissions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="throughputs" class="section level1">
<h1><span class="header-section-number">4</span> Throughputs</h1>
<p><strong>This chapter is very similar to <a href="03-emissions.html#emissions">the previous chapter (“Emissions”)</a>.</strong> If you haven’t read that one yet, it would probably be a good idea to read it first!</p>
<p>The first section in this chapter, <a href="04-throughputs.html#obtaining-throughput-data">Obtaining throughput data</a> (below), is a bit of a digression. If you like, you can just skip ahead to <a href="04-throughputs.html#charting-annual-throughputs">Charting annual throughputs</a>.</p>
<div id="obtaining-throughput-data" class="section level2">
<h2><span class="header-section-number">4.1</span> Obtaining throughput data</h2>
<p>In the <a href="03-emissions.html#emissions">Emissions</a> chapter, we had a nice “published” dataset ready at hand: <code>BY2011_annual_emission_data</code>.</p>
<p>Unfortunately, there are no analogously “published” area-source throughputs for <code>BY2011</code>. However, we can fairly easily (re-)produce CY1990-2040 area-source estimates from the information contained in the <code>BY2011</code> DataBank t-tables. Then, we can extract throughputs from those. That’s what we’ll do in the subsections below. Again, this is a bit of a digression — you can just skip ahead to <a href="04-throughputs.html#charting-annual-throughputs">Charting annual throughputs</a> and come back to this later, if you like.</p>
<div id="recreating-by2011-area-source-projections" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Recreating BY2011 area-source projections</h3>
<p>In the chunk of code below, we recreate the entire BY2011 area-source inventory, from CY1990 through CY2040. (It’s actually pretty fast.)</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co">#</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co"># Step 1: `BY_area_source_projections()` recreates an entire inventory. For</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co"># each category, it assembles `tput_qty`, `ef_qty`, and `cf_qty`, and then</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co"># calculates `ems_qty` from those.</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co"># It can also do much more --- see `help(&quot;BY_area_source_projections&quot;)` to learn</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co"># how you can &quot;swap in&quot; alternative throughputs, emission factors, etc.</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co"># **</span><span class="al">NOTE</span><span class="co">:** For BY2011, in some cases, the calculated emission estimates may</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co"># differ from the published emission estimates. See the Appendix for an</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co"># explanation and a specific example.</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="co"># </span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13">BY2011_area_source_projection_data &lt;-</a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="st">  </span><span class="kw">BY</span>(<span class="dv">2011</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="st">  </span><span class="kw">BY_area_source_projections</span>(</a>
<a class="sourceLine" id="cb10-16" data-line-number="16">    <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb10-17" data-line-number="17"></a>
<a class="sourceLine" id="cb10-18" data-line-number="18"><span class="kw">head</span>(BY2011_area_source_projection_data)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">year</th>
<th align="right">cat_id</th>
<th align="left">cnty_abbr</th>
<th align="right">tput_qty</th>
<th align="left">tput_unit</th>
<th align="right">pol_id</th>
<th align="left">pol_abbr</th>
<th align="right">ef_qty</th>
<th align="left">ef_unit</th>
<th align="right">cf_qty</th>
<th align="right">ems_qty</th>
<th align="left">ems_unit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CY1990</td>
<td align="right">1576</td>
<td align="left">CC</td>
<td align="right">1727880</td>
<td align="left">1000 CUBIC FT</td>
<td align="right">990</td>
<td align="left">TOG</td>
<td align="right">0.134</td>
<td align="left">lb/tput</td>
<td align="right">0.28</td>
<td align="right">32.41502</td>
<td align="left">tons/yr</td>
</tr>
<tr class="even">
<td align="left">CY1990</td>
<td align="right">1576</td>
<td align="left">CC</td>
<td align="right">1727880</td>
<td align="left">1000 CUBIC FT</td>
<td align="right">6970</td>
<td align="left">CH4</td>
<td align="right">0.030</td>
<td align="left">lb/tput</td>
<td align="right">1.00</td>
<td align="right">25.91819</td>
<td align="left">tons/yr</td>
</tr>
<tr class="odd">
<td align="left">CY1991</td>
<td align="right">1576</td>
<td align="left">CC</td>
<td align="right">3277889</td>
<td align="left">1000 CUBIC FT</td>
<td align="right">990</td>
<td align="left">TOG</td>
<td align="right">0.134</td>
<td align="left">lb/tput</td>
<td align="right">0.28</td>
<td align="right">61.49320</td>
<td align="left">tons/yr</td>
</tr>
<tr class="even">
<td align="left">CY1991</td>
<td align="right">1576</td>
<td align="left">CC</td>
<td align="right">3277889</td>
<td align="left">1000 CUBIC FT</td>
<td align="right">6970</td>
<td align="left">CH4</td>
<td align="right">0.030</td>
<td align="left">lb/tput</td>
<td align="right">1.00</td>
<td align="right">49.16833</td>
<td align="left">tons/yr</td>
</tr>
<tr class="odd">
<td align="left">CY1992</td>
<td align="right">1576</td>
<td align="left">CC</td>
<td align="right">3138134</td>
<td align="left">1000 CUBIC FT</td>
<td align="right">990</td>
<td align="left">TOG</td>
<td align="right">0.134</td>
<td align="left">lb/tput</td>
<td align="right">0.28</td>
<td align="right">58.87140</td>
<td align="left">tons/yr</td>
</tr>
<tr class="even">
<td align="left">CY1992</td>
<td align="right">1576</td>
<td align="left">CC</td>
<td align="right">3138134</td>
<td align="left">1000 CUBIC FT</td>
<td align="right">6970</td>
<td align="left">CH4</td>
<td align="right">0.030</td>
<td align="left">lb/tput</td>
<td align="right">1.00</td>
<td align="right">47.07201</td>
<td align="left">tons/yr</td>
</tr>
</tbody>
</table>
<p>The resulting <code>BY2011_area_source_projection_data</code> now contains columns for:</p>
<ul>
<li><code>ems_qty</code> and <code>ems_unit</code> (emissions);</li>
<li><code>ef_qty</code> (emission factors);</li>
<li><code>cf_qty</code> (uncontrolled fractions); and</li>
<li><code>tput_qty</code> and <code>tput_unit</code> (throughputs).</li>
</ul>
</div>
<div id="de-duplicating-recreated-by2011-throughputs" class="section level3">
<h3><span class="header-section-number">4.1.2</span> De-duplicating recreated BY2011 throughputs</h3>
<p>Next, we derive <code>BY2011_area_source_throughput_data</code> from <code>BY2011_area_source_projection_data</code>.</p>
<p>The fact that <code>BY2011_area_source_projection_data</code> contains <code>tput_qty</code> and <code>tput_unit</code> makes it <em>almost</em> suitable for use with <code>chart_annual_throughputs_by()</code>. But, <code>BY2011_area_source_projection_data</code> is in long (“tidy”) format, suitable for use with <code>chart_annual_emissions_by()</code>. This means that the values in the <code>tput_qty</code> column are repeated once per pollutant. If we just added them up, we’d end up with a big over-estimate.</p>
<p>We’ll use <code>distinct()</code> to solve the problem.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co">#</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co"># We can use `distinct()` to de-duplicate throughputs.</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co"># </span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">BY2011_area_source_throughput_data &lt;-</a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span>BY2011_area_source_projection_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="st">  </span><span class="kw">distinct</span>(</a>
<a class="sourceLine" id="cb11-7" data-line-number="7">    year, </a>
<a class="sourceLine" id="cb11-8" data-line-number="8">    cat_id,</a>
<a class="sourceLine" id="cb11-9" data-line-number="9">    cnty_abbr,</a>
<a class="sourceLine" id="cb11-10" data-line-number="10">    tput_qty,</a>
<a class="sourceLine" id="cb11-11" data-line-number="11">    tput_unit)</a></code></pre></div>
<p>Now we have a clean <code>BY2011_area_source_throughput_data</code>.</p>
<p>Again, if you’re reading in throughput data from a .CSV or .XLSX file, you won’t have to worry at all about the steps above. Just skip ahead to <a href="04-throughputs.html#charting-annual-throughputs">the next section</a>!</p>
</div>
</div>
<div id="charting-annual-throughputs" class="section level2">
<h2><span class="header-section-number">4.2</span> Charting annual throughputs</h2>
<p>Let’s examine a category where the growth in throughput varies by county over time. A good example is <code>#761</code> “Sanitary Sewers”.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co">#</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co"># Even though the relevant throughputs appear twice in these data --- once for</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co"># `ROG` rows, and once for `CH4` --- `chart_annual_throughputs_by()` tries not</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co"># to double-count. See `help(&quot;chart_annual_throughputs_by&quot;)` for details.</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co"># </span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6">BY2011_area_source_projection_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="st">  </span><span class="kw">filter_categories</span>(</a>
<a class="sourceLine" id="cb12-8" data-line-number="8">    <span class="st">&quot;Sanitary Sewers&quot;</span> =<span class="st"> </span><span class="dv">761</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="st">  </span><span class="kw">chart_annual_throughputs_by</span>(</a>
<a class="sourceLine" id="cb12-10" data-line-number="10">    <span class="dt">color =</span> cnty_abbr,</a>
<a class="sourceLine" id="cb12-11" data-line-number="11">    <span class="dt">title =</span> <span class="st">&quot;Sanitary Sewers&quot;</span>,</a>
<a class="sourceLine" id="cb12-12" data-line-number="12">    <span class="dt">subtitle =</span> <span class="kw">str_c</span>(</a>
<a class="sourceLine" id="cb12-13" data-line-number="13">      <span class="st">&quot;Sanitary sewers (category #761) tracks with household population.&quot;</span>,</a>
<a class="sourceLine" id="cb12-14" data-line-number="14">      <span class="st">&quot;The relevant growth profile (#657, in DataBank) also varies by county.&quot;</span>,</a>
<a class="sourceLine" id="cb12-15" data-line-number="15">      <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>))</a></code></pre></div>
<p><img src="Charting-Annual-Data_files/figure-html/BY2011_area_source_projection_data-283-284-chart_annual_throughputs_by-1.svg" width="800" height="400" /></p>
<p>As you can see, the syntax for <code>chart_annual_throughputs_by()</code> is identical to that for <code>chart_annual_emissions_by()</code>. If you used <code>chart_annual_emissions()</code> and didn’t supply <code>color = cnty_abbr</code>, you would see the regional totals instead.</p>
<p>Above, we’ve also colored by <code>cnty_abbr</code>, rather than <code>cat_id</code>. This often makes sense when working with throughput data, since different categories often are estimated in terms of different throughput units. So, displaying throughputs for different categories on the same scale may not always make sense (although when the units are the same, it does).</p>
<p>What if we wanted to understand these throughputs in terms of percent change (%), rather than absolute units (“1000 Pounds”)? Let’s move on to the next two chapters, <a href="06-relative_changes.html#relative-changes">Relative Changes</a> and <a href="05-growth_profiles.html#growth-profiles">Growth Profiles</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="03-emissions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="05-growth_profiles.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/BAAQMD/charting-annual-data/edit/master/04-throughputs.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/BAAQMD/charting-annual-data/blob/master/04-throughputs.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
